{"version":3,"sources":["js/slider.js","js/modal.js","js/menu.js","index.js"],"names":["multiItemSlider","selector","config","_mainElement","document","querySelector","_sliderWrapper","_sliderItems","querySelectorAll","_wrapperWidth","parseFloat","getComputedStyle","width","_itemWidth","_positionLeftItem","_transform","_step","_items","_interval","_html","innerHTML","_states","active","minWidth","count","_config","isCycling","direction","interval","pause","key","forEach","item","index","push","position","transform","_setActive","_index","body","clientWidth","arr","getItemMin","indexItem","getItemMax","getMin","getMax","_transformItem","nextItem","element","rect","vWidth","vHeight","elemFromPoint","getBoundingClientRect","window","innerWidth","doc","documentElement","innerHeight","clientHeight","x","y","elementFromPoint","right","bottom","left","top","contains","length","style","_cycle","setInterval","_controlClick","e","target","classList","preventDefault","clearInterval","_handleVisibilityChange","visibilityState","addEventListener","_getActive","stop","cycle","slider","refs","openModalBtn","closeModalBtn","modal","toggleModal","toggle","menuBtnRef","mobileMenuRef","mobileLogoRef","expanded","getAttribute","setAttribute"],"mappings":";;;AAAC,aACG,IAAIA,EAAmB,WAkBd,OAAA,SAAUC,EAAUC,GAEvBC,IAAAA,EAAeC,SAASC,cAAcJ,GACtCK,EAAiBH,EAAaE,cAAc,oBAC5CE,EAAeJ,EAAaK,iBAAiB,iBAI7CC,GAHkBN,EAAaK,iBAAiB,oBAC3BL,EAAaE,cAAc,yBAC1BF,EAAaE,cAAc,0BACjCK,WAAWC,iBAAiBL,GAAgBM,QAC5DC,EAAaH,WAAWC,iBAAiBJ,EAAa,IAAIK,OAC1DE,EAAoB,EACpBC,EAAa,EACbC,EAAQH,EAAaJ,EAAgB,IACrCQ,EAAS,GACTC,EAAY,EACZC,EAAQhB,EAAaiB,UACrBC,EAAU,CACR,CAAEC,QAAQ,EAAOC,SAAU,EAAGC,MAAO,GACrC,CAAEF,QAAQ,EAAOC,SAAU,IAAKC,MAAO,IAEzCC,EAAU,CACRC,WAAW,EACXC,UAAW,QACXC,SAAU,IACVC,OAAO,GAGN,IAAA,IAAIC,KAAO5B,EACV4B,KAAOL,IACTA,EAAQK,GAAO5B,EAAO4B,IAK1BvB,EAAawB,QAAQ,SAAUC,EAAMC,GACnChB,EAAOiB,KAAK,CAAEF,KAAMA,EAAMG,SAAUF,EAAOG,UAAW,MAGpDC,IAAAA,EAAa,WACXC,IAAAA,EAAS,EACT1B,EAAQF,WAAWN,SAASmC,KAAKC,aACrCnB,EAAQU,QAAQ,SAAUC,EAAMC,EAAOQ,GACrCpB,EAAQY,GAAOX,QAAS,EACpBV,GAASS,EAAQY,GAAOV,WAC1Be,EAASL,KAEbZ,EAAQiB,GAAQhB,QAAS,GAavBa,EAAW,CACbO,WAAY,WACNC,IAAAA,EAAY,EAMTA,OALP1B,EAAOc,QAAQ,SAAUC,EAAMC,GACzBD,EAAKG,SAAWlB,EAAO0B,GAAWR,WACpCQ,EAAYV,KAGTU,GAETC,WAAY,WACND,IAAAA,EAAY,EAMTA,OALP1B,EAAOc,QAAQ,SAAUC,EAAMC,GACzBD,EAAKG,SAAWlB,EAAO0B,GAAWR,WACpCQ,EAAYV,KAGTU,GAETE,OAAQ,WACC5B,OAAAA,EAAOkB,EAASO,cAAcP,UAEvCW,OAAQ,WACC7B,OAAAA,EAAOkB,EAASS,cAAcT,WAIrCY,EAAiB,SAAUpB,GACzBqB,IAAAA,EAvGmBC,EACrBC,EACFC,EACAC,EACAC,GAHEH,GADqBD,EAwGA9C,GAvGNmD,wBACjBH,EAASI,OAAOC,YAAcC,IAAIC,gBAAgBlB,YAClDY,EAAUG,OAAOI,aAAeF,IAAIC,gBAAgBE,aACpDP,EAAgB,SAAUQ,EAAGC,GAAY1D,OAAAA,SAAS2D,iBAAiBF,EAAGC,IACpEZ,EAAKc,MAAQ,GAAKd,EAAKe,OAAS,GAC/Bf,EAAKgB,KAAOf,GAAUD,EAAKiB,IAAMf,KAGpCH,EAAQmB,SAASf,EAAcH,EAAKgB,KAAMhB,EAAKiB,OAC5ClB,EAAQmB,SAASf,EAAcH,EAAKc,MAAOd,EAAKiB,OAChDlB,EAAQmB,SAASf,EAAcH,EAAKc,MAAOd,EAAKe,UAChDhB,EAAQmB,SAASf,EAAcH,EAAKgB,KAAMhB,EAAKe,aA+FhC,UAAdtC,MACFb,EACyBL,EAAgBI,EAAa,EAAKsB,EAASW,WAClEE,EAAWb,EAASO,aACpBzB,EAAO+B,GAAUb,SAAWA,EAASW,SAAW,EAChD7B,EAAO+B,GAAUZ,WAA6B,IAAhBnB,EAAOoD,OACrCpD,EAAO+B,GAAUhB,KAAKsC,MAAMlC,UAAY,cAAgBnB,EAAO+B,GAAUZ,UAAY,MAEvFrB,GAAcC,GAEE,SAAdW,MACFb,EACwBqB,EAASU,WAC/BG,EAAWb,EAASS,aACpB3B,EAAO+B,GAAUb,SAAWA,EAASU,SAAW,EAChD5B,EAAO+B,GAAUZ,WAA6B,IAAhBnB,EAAOoD,OACrCpD,EAAO+B,GAAUhB,KAAKsC,MAAMlC,UAAY,cAAgBnB,EAAO+B,GAAUZ,UAAY,MAEvFrB,GAAcC,GAEhBV,EAAegE,MAAMlC,UAAY,cAAgBrB,EAAa,OAG5DwD,EAAS,SAAU5C,GAChBF,EAAQC,YAGbR,EAAYsD,YAAY,WACtBzB,EAAepB,IACdF,EAAQG,YAIT6C,EAAgB,SAAUC,GACxBA,GAAAA,EAAEC,OAAOC,UAAUR,SAAS,mBAAoB,CAClDM,EAAEG,iBACElD,IAAAA,EAAY+C,EAAEC,OAAOC,UAAUR,SAAS,yBAA2B,QAAU,OACjFrB,EAAepB,GACfmD,cAAc5D,GACdqD,EAAO9C,EAAQE,aAKfoD,EAA0B,WACK,WAA7B3E,SAAS4E,gBACXF,cAAc5D,IAEd4D,cAAc5D,GACdqD,EAAO9C,EAAQE,aAyDZ,OAjCLxB,EAAa8E,iBAAiB,QAASR,GACnChD,EAAQI,OAASJ,EAAQC,YAC3BvB,EAAa8E,iBAAiB,aAAc,WAC1CH,cAAc5D,KAEhBf,EAAa8E,iBAAiB,aAAc,WAC1CH,cAAc5D,GACdqD,EAAO9C,EAAQE,cAGnBvB,SAAS6E,iBAAiB,mBAAoBF,GAAyB,GACvExB,OAAO0B,iBAAiB,SAAU,WAE9B3C,IAAAA,EAAS,EACT1B,EAAQF,WAAWN,SAASmC,KAAKC,aACnCnB,EAAQU,QAAQ,SAAUC,EAAMC,EAAOQ,GACjC7B,GAASS,EAAQY,GAAOV,WAC1Be,EAASL,KAETK,IAtIS,WACXA,IAAAA,EAMGA,OALPjB,EAAQU,QAAQ,SAAUC,EAAMC,EAAOQ,GACjCpB,EAAQY,GAAOX,SACjBgB,EAASL,KAGNK,EA+HU4C,KACb7C,IAvCJyC,cAAc5D,GACdf,EAAaiB,UAAYD,EACzBb,EAAiBH,EAAaE,cAAc,oBAC5CE,EAAeJ,EAAaK,iBAAiB,iBAC3BL,EAAaK,iBAAiB,oBAC3BL,EAAaE,cAAc,yBAC1BF,EAAaE,cAAc,0BACjDI,EAAgBC,WAAWC,iBAAiBL,GAAgBM,OAC5DC,EAAaH,WAAWC,iBAAiBJ,EAAa,IAAIK,OAC1DE,EAAoB,EACpBC,EAAa,EACbC,EAAQH,EAAaJ,EAAgB,IACrCQ,EAAS,GACTV,EAAawB,QAAQ,SAAUC,EAAMC,GACnChB,EAAOiB,KAAK,CAAEF,KAAMA,EAAMG,SAAUF,EAAOG,UAAW,SAiCzB,YAA7BhC,SAAS4E,iBACXT,EAAO9C,EAAQE,WAEjBU,IAEO,CACL2B,MAAO,WACLjB,EAAe,UAEjBmB,KAAM,WACJnB,EAAe,SAEjBoC,KAAM,WACJ1D,EAAQC,WAAY,EACpBoD,cAAc5D,IAEhBkE,MAAO,WACL3D,EAAQC,WAAY,EACpBoD,cAAc5D,GACdqD,OArOe,GA4OnBc,EAASrF,EAAgB,UAAW,CACtC0B,WAAW;;CC9OjB,WACQ4D,IAAAA,EAAO,CACXC,aAAcnF,SAASC,cAAc,qBACrCmF,cAAepF,SAASC,cAAc,sBACtCoF,MAAOrF,SAASC,cAAc,iBAMvBqF,SAAAA,IACPtF,SAASmC,KAAKqC,UAAUe,OAAO,cAC/BL,EAAKG,MAAMb,UAAUe,OAAO,aAL9BL,EAAKC,aAAaN,iBAAiB,QAASS,GAC5CJ,EAAKE,cAAcP,iBAAiB,QAASS,GAR/C;;CCCA,WACQE,IAAAA,EAAaxF,SAASC,cAAc,sBACpCwF,EAAgBzF,SAASC,cAAc,eACvCyF,EAAgB1F,SAASC,cAAc,eAC7CuF,EAAWX,iBAAiB,QAAS,WAC7Bc,IAAAA,EACyC,SAA7CH,EAAWI,aAAa,mBAA+B,EAEzDJ,EAAWhB,UAAUe,OAAO,WAC5BC,EAAWK,aAAa,iBAAkBF,GAC1CD,EAAclB,UAAUe,OAAO,WAC/BE,EAAcjB,UAAUe,OAAO,aAXnC;;ACEA,aAHA,QAAA,oBACA,QAAA,uBACA,QAAA,sBACA,QAAA","file":"src.b7f9a698.js","sourceRoot":"..\\src","sourcesContent":[" 'use strict';\r\n    var multiItemSlider = (function () {\r\n\r\n      function _isElementVisible(element) {\r\n        var rect = element.getBoundingClientRect(),\r\n          vWidth = window.innerWidth || doc.documentElement.clientWidth,\r\n          vHeight = window.innerHeight || doc.documentElement.clientHeight,\r\n          elemFromPoint = function (x, y) { return document.elementFromPoint(x, y) };\r\n        if (rect.right < 0 || rect.bottom < 0\r\n          || rect.left > vWidth || rect.top > vHeight)\r\n          return false;\r\n        return (\r\n          element.contains(elemFromPoint(rect.left, rect.top))\r\n          || element.contains(elemFromPoint(rect.right, rect.top))\r\n          || element.contains(elemFromPoint(rect.right, rect.bottom))\r\n          || element.contains(elemFromPoint(rect.left, rect.bottom))\r\n        );\r\n      }\r\n\r\n      return function (selector, config) {\r\n        var\r\n          _mainElement = document.querySelector(selector), // основный элемент блока\r\n          _sliderWrapper = _mainElement.querySelector('.slider__wrapper'), // обертка для .slider-item\r\n          _sliderItems = _mainElement.querySelectorAll('.slider__item'), // элементы (.slider-item)\r\n          _sliderControls = _mainElement.querySelectorAll('.slider__control'), // элементы управления\r\n          _sliderControlLeft = _mainElement.querySelector('.slider__control_left'), // кнопка \"LEFT\"\r\n          _sliderControlRight = _mainElement.querySelector('.slider__control_right'), // кнопка \"RIGHT\"\r\n          _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width), // ширина обёртки\r\n          _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width), // ширина одного элемента    \r\n          _positionLeftItem = 0, // позиция левого активного элемента\r\n          _transform = 0, // значение транфсофрмации .slider_wrapper\r\n          _step = _itemWidth / _wrapperWidth * 100, // величина шага (для трансформации)\r\n          _items = [], // массив элементов\r\n          _interval = 0,\r\n          _html = _mainElement.innerHTML,\r\n          _states = [\r\n            { active: false, minWidth: 0, count: 1 },\r\n            { active: false, minWidth: 980, count: 2 }\r\n          ],\r\n          _config = {\r\n            isCycling: false, // автоматическая смена слайдов\r\n            direction: 'right', // направление смены слайдов\r\n            interval: 5000, // интервал между автоматической сменой слайдов\r\n            pause: true // устанавливать ли паузу при поднесении курсора к слайдеру\r\n          };\r\n\r\n        for (var key in config) {\r\n          if (key in _config) {\r\n            _config[key] = config[key];\r\n          }\r\n        }\r\n\r\n        // наполнение массива _items\r\n        _sliderItems.forEach(function (item, index) {\r\n          _items.push({ item: item, position: index, transform: 0 });\r\n        });\r\n\r\n        var _setActive = function () {\r\n          var _index = 0;\r\n          var width = parseFloat(document.body.clientWidth);\r\n          _states.forEach(function (item, index, arr) {\r\n            _states[index].active = false;\r\n            if (width >= _states[index].minWidth)\r\n              _index = index;\r\n          });\r\n          _states[_index].active = true;\r\n        }\r\n\r\n        var _getActive = function () {\r\n          var _index;\r\n          _states.forEach(function (item, index, arr) {\r\n            if (_states[index].active) {\r\n              _index = index;\r\n            }\r\n          });\r\n          return _index;\r\n        }\r\n\r\n        var position = {\r\n          getItemMin: function () {\r\n            var indexItem = 0;\r\n            _items.forEach(function (item, index) {\r\n              if (item.position < _items[indexItem].position) {\r\n                indexItem = index;\r\n              }\r\n            });\r\n            return indexItem;\r\n          },\r\n          getItemMax: function () {\r\n            var indexItem = 0;\r\n            _items.forEach(function (item, index) {\r\n              if (item.position > _items[indexItem].position) {\r\n                indexItem = index;\r\n              }\r\n            });\r\n            return indexItem;\r\n          },\r\n          getMin: function () {\r\n            return _items[position.getItemMin()].position;\r\n          },\r\n          getMax: function () {\r\n            return _items[position.getItemMax()].position;\r\n          }\r\n        }\r\n\r\n        var _transformItem = function (direction) {\r\n          var nextItem;\r\n          if (!_isElementVisible(_mainElement)) {\r\n            return;\r\n          }\r\n          if (direction === 'right') {\r\n            _positionLeftItem++;\r\n            if ((_positionLeftItem + _wrapperWidth / _itemWidth - 1) > position.getMax()) {\r\n              nextItem = position.getItemMin();\r\n              _items[nextItem].position = position.getMax() + 1;\r\n              _items[nextItem].transform += _items.length * 100;\r\n              _items[nextItem].item.style.transform = 'translateX(' + _items[nextItem].transform + '%)';\r\n            }\r\n            _transform -= _step;\r\n          }\r\n          if (direction === 'left') {\r\n            _positionLeftItem--;\r\n            if (_positionLeftItem < position.getMin()) {\r\n              nextItem = position.getItemMax();\r\n              _items[nextItem].position = position.getMin() - 1;\r\n              _items[nextItem].transform -= _items.length * 100;\r\n              _items[nextItem].item.style.transform = 'translateX(' + _items[nextItem].transform + '%)';\r\n            }\r\n            _transform += _step;\r\n          }\r\n          _sliderWrapper.style.transform = 'translateX(' + _transform + '%)';\r\n        }\r\n\r\n        var _cycle = function (direction) {\r\n          if (!_config.isCycling) {\r\n            return;\r\n          }\r\n          _interval = setInterval(function () {\r\n            _transformItem(direction);\r\n          }, _config.interval);\r\n        }\r\n\r\n        // обработчик события click для кнопок \"назад\" и \"вперед\"\r\n        var _controlClick = function (e) {\r\n          if (e.target.classList.contains('slider__control')) {\r\n            e.preventDefault();\r\n            var direction = e.target.classList.contains('slider__control_right') ? 'right' : 'left';\r\n            _transformItem(direction);\r\n            clearInterval(_interval);\r\n            _cycle(_config.direction);\r\n          }\r\n        };\r\n\r\n        // обработка события изменения видимости страницы\r\n        var _handleVisibilityChange = function () {\r\n          if (document.visibilityState === \"hidden\") {\r\n            clearInterval(_interval);\r\n          } else {\r\n            clearInterval(_interval);\r\n            _cycle(_config.direction);\r\n          }\r\n        }\r\n\r\n        var _refresh = function () {\r\n          clearInterval(_interval);\r\n          _mainElement.innerHTML = _html;\r\n          _sliderWrapper = _mainElement.querySelector('.slider__wrapper');\r\n          _sliderItems = _mainElement.querySelectorAll('.slider__item');\r\n          _sliderControls = _mainElement.querySelectorAll('.slider__control');\r\n          _sliderControlLeft = _mainElement.querySelector('.slider__control_left');\r\n          _sliderControlRight = _mainElement.querySelector('.slider__control_right');\r\n          _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width);\r\n          _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width);\r\n          _positionLeftItem = 0;\r\n          _transform = 0;\r\n          _step = _itemWidth / _wrapperWidth * 100;\r\n          _items = [];\r\n          _sliderItems.forEach(function (item, index) {\r\n            _items.push({ item: item, position: index, transform: 0 });\r\n          });\r\n        }\r\n\r\n        var _setUpListeners = function () {\r\n          _mainElement.addEventListener('click', _controlClick);\r\n          if (_config.pause && _config.isCycling) {\r\n            _mainElement.addEventListener('mouseenter', function () {\r\n              clearInterval(_interval);\r\n            });\r\n            _mainElement.addEventListener('mouseleave', function () {\r\n              clearInterval(_interval);\r\n              _cycle(_config.direction);\r\n            });\r\n          }\r\n          document.addEventListener('visibilitychange', _handleVisibilityChange, false);\r\n          window.addEventListener('resize', function () {\r\n            var\r\n              _index = 0,\r\n              width = parseFloat(document.body.clientWidth);\r\n            _states.forEach(function (item, index, arr) {\r\n              if (width >= _states[index].minWidth)\r\n                _index = index;\r\n            });\r\n            if (_index !== _getActive()) {\r\n              _setActive();\r\n              _refresh();\r\n            }\r\n          });\r\n        }\r\n\r\n        // инициализация\r\n        _setUpListeners();\r\n        if (document.visibilityState === \"visible\") {\r\n          _cycle(_config.direction);\r\n        }\r\n        _setActive();\r\n\r\n        return {\r\n          right: function () { // метод right\r\n            _transformItem('right');\r\n          },\r\n          left: function () { // метод left\r\n            _transformItem('left');\r\n          },\r\n          stop: function () { // метод stop\r\n            _config.isCycling = false;\r\n            clearInterval(_interval);\r\n          },\r\n          cycle: function () { // метод cycle \r\n            _config.isCycling = true;\r\n            clearInterval(_interval);\r\n            _cycle();\r\n          }\r\n        }\r\n\r\n      }\r\n    }());\r\n\r\n    var slider = multiItemSlider('.slider', {\r\n      isCycling: true\r\n    })","(() => {\r\n  const refs = {\r\n    openModalBtn: document.querySelector('[data-modal-open]'),\r\n    closeModalBtn: document.querySelector('[data-modal-close]'),\r\n    modal: document.querySelector('[data-modal]'),\r\n  };\r\n\r\n  refs.openModalBtn.addEventListener('click', toggleModal);\r\n  refs.closeModalBtn.addEventListener('click', toggleModal);\r\n\r\n  function toggleModal() {\r\n    document.body.classList.toggle(\"modal-open\")\r\n    refs.modal.classList.toggle('is-hidden');\r\n  }\r\n})();","\r\n(() => {\r\n  const menuBtnRef = document.querySelector(\"[data-menu-button]\");\r\n  const mobileMenuRef = document.querySelector(\"[data-menu]\");\r\n  const mobileLogoRef = document.querySelector(\"[logo-menu]\");\r\n  menuBtnRef.addEventListener(\"click\", () => {\r\n    const expanded =\r\n      menuBtnRef.getAttribute(\"aria-expanded\") === \"true\" || false;\r\n\r\n    menuBtnRef.classList.toggle(\"is-open\");\r\n    menuBtnRef.setAttribute(\"aria-expanded\", !expanded);\r\n    mobileLogoRef.classList.toggle(\"is-open\");\r\n    mobileMenuRef.classList.toggle(\"is-open\");\r\n  });\r\n})();","import \"./sass/main.scss\";\r\nimport \"../src/js/slider.js\";\r\nimport \"../src/js/modal.js\";\r\nimport \"../src/js/menu\";"]}